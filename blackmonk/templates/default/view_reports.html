{% extends "staff_base.html" %}
{% load tabs %}
{% load i18n %}
{% load thumbnail %}
{% block navigation %}
    {% if modules == 'gallery' %}{% activetab "selmodule" "photos" %}{% elif modules == 'article' %}{% activetab "selmodule" "article" %}{% else %}
{% activetab "selmodule" modules %}
{% endif %}
    {{ block.super }}
{% endblock %}
{% block pagetitle %}{% trans 'Banner Traffic Repots' %} {% endblock %}
{% block head %}

<style type="text/css">
        /* Optional styles */
        
        .chartscontainer {
            padding: 10px 30px;
            width: 100%;
            -moz-box-sizing:border-box; /* Firefox */
            -webkit-box-sizing:border-box; /* Safari */
            margin: 0 auto;
        }
        
        .chartscontainer ul {
            padding-left: 0;
        }
        
        .chartscontainer li {
            list-style: none;
        }
        
        
        .info{
              padding:30px;
        }
        
        .info li {
            color: #666666;
            display: block;
            font-weight: bold;
            margin-bottom: 5px;
        }
        .info li .label {
            color: #999999;
            display: inline-block;
            font-weight: normal;
            width: 80px;
        }
        
        .banner_mnthly_info{
            border: 1px solid #EEEEEE;
            width: 100%;
        }
        .banner_mnthly_info tr {
            border: 1px solid #EEEEEE;
        }
        .banner_mnthly_info tr:hover {
            background-color:#fafafa;
            cursor:pointer
        }
        .banner_mnthly_info tr.active {
            background-color:#eee;
        }
        .banner_mnthly_info th {
            border-right: 1px solid #EEEEEE;
            color: #999999;
            font-size: 11px;
            padding: 5px 10px;
        }
        .banner_mnthly_info td {
            border-right: 1px solid #EEEEEE;
            color: #333333;
            padding: 5px 10px;
        }
        
    </style>



<!-- TAGS -->
    <link rel="stylesheet" type="text/css" href="{{STATIC_URL}}ui/css/jquery.tagit.css" />
<!-- TAGS -->
{% endblock %}
{% block content %}
<div id="staff-platform" class="group">
      <div class="header-bar has-sub">
    <h2> {{ modules|capfirst }} {% blocktrans %}Traffic Report - {% endblocktrans %}</h2>
        <section class="sub-header-bar">
            <div class="group">
                  <div class="filter-view-tabs">
                        <a href="/staff/{% if modules == 'gallery' %}photos{% elif modules == 'article' %}articles{% else %}{{ modules }}{% endif %}/" class="text-link"><span>{% trans '&larr; Back to' %} {% if modules == 'gallery' %}photos{% else %}{{ modules }}{% endif %}</span></a>
						
                  </div>
            </div>
        </section>                          
         </div>
        <div id="core-wraper" class="group">
            <div class="staff-main">
                  <div class="page-wrap">
                    <div id="articles" class="group">
                        <section class="toolbars">
                            <div class="group">
                                <ul class="toolbar left">
                                    <li class="tool tip tip6">
                                        <label class="inline-block">{% trans 'Year:' %}</label>
                                        <select id="orderSelect" onchange="location.replace('/viewstats/{{id}}/{{modules}}/'+$(this).val())" style="width:150px;" class="select-menu">
                                              {% for y in years %}
                                                <option value="{{y.year}}" {% if y.year == year %} selected="selected" {% endif %}>{{y|date:"Y"}}</option>
                                              {% endfor %}
                                        </select>                                                    
                                    </li>
                                </ul>

								<ul class="oV-vW">
									<li>
										<span class="bullet bR-bLu"></span><span class="inline-block">Impressions</span>
									</li>
									<li>
										<span class="bullet vR-dRk-bLu"></span><span class="inline-block">Click Thru</span>
									</li>
								</ul>
                            </div>
                        </section>
                        <span id="ajax_content_loading" class="load-list-items" style="display:none">
                             <img src="{{STATIC_URL}}ui/images/global/loading.gif" align="...">
                        </span>
                        <div style="display:none;" class="info-bar" id="top_info_bar"></div>
                        <div id="ajax_content_cls" class="group" style="padding-bottom: 20px; border-bottom: 1px solid rgb(230, 230, 230);">
						<canvas id="canvas" height="350" width="700"></canvas>
                        </div> 
                        <div class="info group">
                            <ul style="float: left;">
                                <li>
                                    <span class="label">Name/Title:</span> {% if element.name %}{{ element.name }}{% else %}{{element.title}}{% endif %}
                                </li>
                                <li>
                                    <span class="label">Created on:</span> {{element.created_on}}
                                </li>
                                <!--li>
                                    <span class="label">Category:</span> {{element.get_parent_cat}} 
                                </li-->
                            </ul>
                            <ul style="float: left; margin-left: 30px;">
                                <li>
                                    <a href="javascript:void(0);" title="" >
									<img style="max-height: 100px;" 
									src="{% if element.logo.logo %}{% thumbnail element.logo.logo 110x0 %}{% elif element.get_first_article_photo %}{% thumbnail element.get_first_article_photo 110x0 %}{% elif element.get_cover_image %}{% thumbnail event.get_cover_image 110x0 %}{% elif element.image %}{% thumbnail movie.image 164x0 %}{% elif element.get_thumb %}{{video.get_thumb}}{% elif element.get_first_classified_photo %}{% thumbnail element.get_first_classified_photo 164x0 %}{% else %}{#{ element.get_default_image }#}{% endif %}"/></a>
                                   <a class="icon-view preview-item"  href="#"></a>  
                                </li>
                            </ul>
                        </div> 
                        <div class="table" style="padding: 10px 30px;" id="id_banner_monthly_div">
                            {% include 'default/monthly_reports.html' %}  
                        </div>   
                    </div> <!-- end table -->
              </div>  <!-- end page wrap -->
        </div>  <!-- end main-col -->                            
        <div id="aside" class="side-bar">
            {% include 'default/reports_data_faq.html' %}  
        </div>                            
    </div>                                                    
</div>
{% endblock %}            
{% block footer_include %}
    <!--script type="text/javascript" src="{{STATIC_URL}}js/ads/charts-custome.js"></script-->
    <script type="text/javascript" src="{{STATIC_URL}}js/ads/charts/exporting.js" ></script>
    <script type="text/javascript" src="{{STATIC_URL}}js/chart.js" ></script>
    <script type="text/javascript" src="{{ STATIC_URL }}ui/js/listing_settings.js"></script>
    <script type="text/javascript">

        $(function () {

          var barChartData = {
			labels : [{% for keys,months in month_names.items %}
                            '{{months|truncatechars:9}}'{% if not forloop.last %},{% endif %}
                        {% endfor %}],
			datasets : [
				{
					fillColor : "rgb(72,151,241)",
					strokeColor : "rgb(72,151,241)",
					data : [{% for value in month_list.values %}{% for k in value.keys %}{{ k }}{% endfor %}{% if not forloop.last %}, {% endif %}{% endfor %}]
				},
				{
					fillColor : "rgb(38,60,83)",
					strokeColor : "rgb(38,60,83)",
					data : [{% for value in month_list.values %}{% for k in value.values %}{{ k }}{% endfor %}{% if not forloop.last %}, {% endif %}{% endfor %}]
				}
			]

		}
    //Bar.defaults = {	scaleGridLineWidth : 1,	};
	var myLine = new Chart(document.getElementById("canvas").getContext("2d")).Bar(barChartData,{scaleGridLineWidth:0.1,scaleOverride : true,scaleSteps : 10,scaleLineWidth:0.1,scaleStepWidth:{{scaleStepWidth}},scaleLineColor:"rgb(128,128,128)",scaleGridLineColor:"rgb(128,128,128)"});
        });
        function banner_image_large_preview(url,title){
            $.colorbox({width: "800",initialWidth: "800", top:"5%", initialHeight: "200", href:url, title:title });                        
        }
    </script>
<ul class="tour_link">
    <li class="tool-tip tttxt-t1"><a class="link1" href="/bmt/tour/gallery/staff/status.html"></a></li>
    <li class="tool-tip tttxt-t2"><a class="link2" href="/bmt/tour/gallery/staff/listing_type.html"></a></li>
    <li class="tool-tip tttxt-t3"><a class="link3" href="/bmt/tour/gallery/staff/submissions.html"></a></li>
    <li class="tool-tip tttxt-t4"><a class="link4" href="/bmt/tour/gallery/staff/search.html"></a></li>
    <li class="tool-tip tttxt-t5"><a class="link5" href="/bmt/tour/gallery/staff/actions.html"></a></li>
    <li class="tool-tip tttxt-t6"><a class="link6" href="/bmt/tour/gallery/staff/sorting.html"></a></li>
    <li class="tool-tip tttxt-t7"><a class="link7" href="/bmt/tour/gallery/staff/state.html"></a></li>
    <li class="tool-tip tttxt-t8"><a class="link8" href="/bmt/tour/gallery/staff/status_aside.html"></a></li>
    <li class="tool-tip tttxt-t9"><a class="link9" href="/bmt/tour/gallery/staff/settings.html"></a></li>
</ul>
{% endblock %}