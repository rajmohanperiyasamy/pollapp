{% load i18n truncate_filter %}
<form id="community_answer_form" class="uSr-aCnT mRb0" method="post" action="{% url 'question_save_answer' entry.id %}?aid={{answer.id}}">{% csrf_token %}
	<div class="control-group">
        <label class="control-label" >{% trans 'Answer' %}</label>
        <div class="controls">
			<textarea id="id_update_answer" onkeyup="update_answer_button2($(this));" name="answer" class="h60">{{answer.content}}</textarea>
        </div>
    </div>
</form>
<script type="text/javascript" src="{{ STATIC_URL }}js/ckeditor/ckeditor.js"></script>
<script type="text/javascript">
var edt;
	function updateTextArea2(edt){
    CKEDITOR.tools.setTimeout( function(){ 
	        $('#id_update_answer').val(edt.getData());
	        $("#id_update_answer").trigger('keyup');
	    }, 0);  
	}
	try{
		var instance = CKEDITOR.instances['id_update_answer'];
		CKEDITOR.remove(instance);
	}
	catch(e){}
	CKEDITOR.on( 'instanceCreated', function( e ){
		   e.editor.addCss('body { font-size:12px; font-family:Arial, "Times New Roman", Verdana;}');
   	});
	var edt=CKEDITOR.replace( 'id_update_answer',{					
		customConfig : '{{ STATIC_URL }}js/ckeditor/custome_config.js',
		toolbar : 'Basic_Image',
		filebrowserImageUploadUrl : '{%url 'article_upload_from_editor' %}'
	});
	edt.on('key', function(event) {updateTextArea2(edt);});

	$('#id_update_answer').keyup(function(){$('#id_update_answer').valid();})

function update_answer_button2(hobj)
{
    if($.trim(hobj.val()).length >= 1){
            $(".updatebutton").removeAttr('disabled');
        }
    else{
            $(".updatebutton").attr('disabled','disabled');
         }
}

</script>