{% extends "staff_base.html" %}
{% load tabs %}
{% load upload_tags %}
{% load i18n %}
{% block navigation %}
	{% activetab "selmodule" "classifieds" %}
	{{ block.super }}
{% endblock %}
{% block pagetitle %}{% trans 'Classifieds' %} {% endblock %}
{% block head %}
{% endblock %}
{% block content %}
 <div id="staff-platform" class="group">
    <div class="header-bar has-sub">
    	<a href="{% url 'staff_classified_home' %}"><h2><span class="go_back"></span>{% trans 'Classifieds' %}</h2></a>
        <section class="sub-header-bar">
            <div class="group">
                <div class="filter-view-tabs">
                </div>
                <div class="add-section-right">
					<button class="cform-button" roll="button" type="button" onclick="window.open('{{ STATIC_URL }}general/Classifieds.csv')"><span class="cform-button-text">{% trans 'Download Sample CSV' %}</span></button>
				</div> 
            </div>
        </section>                           
	</div>
    <div id="core-wraper" class="group">
        <div class="staff-main">
            <div class="page-wrap">
                <div id="business-add" class="group">
                    <div id="add-new-business">
                        <form id="mform" name="mform" onsubmit="return validate()" action="{% url 'staff_classifieds_import_csv' %}" enctype="multipart/form-data" method="post">{% csrf_token %}
                            <div class="fields hform">
                                <div class="field-group">              
                                    <div class="field select-field">
                                        <div class="label"><label for="">{% trans 'Upload CSV File' %}<span class="required-field">*</span></label></div>
                                        <div class="value">
                                        	<input type="file" name="classifiedcsv" id="classifiedcsv" accept="*.csv">
											<span class="tip" id="cat_span">{% trans 'Upload a CSV file to add mulitple listing.' %}</span>
                                        </div>
                                    </div>                                                                                                        
                                </div> <!--/field-group--> 
                            </div> <!--/fields-->
                            <div class="form-submit right group">
                                <button class="cform-button"  onclick="$('.quickhelp').toggle();$('.hlpbtn').toggle();" roll="button" type="button" "><span class="hlpbtn" style="display: none;">Hide</span><span class="hlpbtn">Show</span> <span class="cform-button-text">{% trans 'help' %}</span></button>
                                <button class="cform-button" roll="button" type="button" onclick="window.location.replace('{% url 'staff_classified_home' %}')"><span class="cform-button-text">{% trans 'Cancel' %}</span></button>
                                <button role="button" class="cform-button prime" type="submit"><span class="cform-button-text">{% trans 'SAVE' %}</span></button>
                            </div>                                                
                        </form>
                        {% if filehistory %}
                            {% include 'common/csvfile_history.html' %}
                        {% endif %}
						<div class="quickhelp" style="display: none">
						 <!--/Table Fomat I--> 
						<div class="qKhP">
							<h2>Quick Help</h2>
							<h3>Required Fields</h3>
								<table class="bdr wth ">
									<tr class="header">
										<th class="qTr">Fields</th>
											<th class="qTr">Type</th>
										<th class="qTr">Description</th>
											<th class="qTr">Example</th>
									</tr>
									<tr class="brda">
										<td class="qTr">TITLE</td>
											<td class="qTr">Character<br/>Limit: 110 characters</td>
										<td class="qTr">Enter the Title of the Classified</td>
											<td class="qTr">Eg: How to write Django programs</td>
									</tr>
									<tr class="brda">
										<td class="qTr">DESCRIPTION</td>
											<td class="qTr">Character</td>
										<td class="qTr">Enter the Description of the Classified</td>
											<td class="qTr">Eg: </td>
									</tr>
									<tr class="brda">
										<td class="qTr tbl">PARENT_CATEGORY</td>
											<td class="qTr">Character</td>
										<td class="qTr tbl">Enter the Parent Category of the Classified</td>
											<td class="qTr ">Eg:<br/>(i) Jobs<br/>(ii) Tickets<br/>(iii) Community etc. </td>
									</tr>
									<tr class="brda">
										<td class="qTr tbl">SUB_CATEGORY</td>
											<td class="qTr">Character</td>
										<td class="qTr tbl">Enter the Sub Category of the Classified</td>
											<td class="qTr ">Eg:<br/>(i) Acting Jobs<br/>(ii) Auto Racing Tickets<br/>(iii) Announcements etc. </td>
									</tr>
									<tr class="brda">
										<td class="qTr tbl">STATUS</td>
											<td class="qTr">Character</td>
										<td class="qTr tbl">Enter the Status of the Classified</td>
											<td class="qTr">Eg:<br/>(i) PUBLISHED<br/>(ii) PENDING<br/>(iii) BLOCKED</td>
									</tr>
									<tr class="brda">
										<td class="qTr">ADDRESS1</td>
											<td class="qTr">Character</td>
										<td class="qTr">Enter the address for the Classified</td>
											<td class="qTr">Eg: 42, 2nd Street, 8 Ave</td>
									</tr>
									<tr class="brda">
										<td class="qTr">PIN</td>
											<td class="qTr">Character</td>
										<td class="qTr">Enter the PIN Number</td>
											<td class="qTr">Eg: T2VG10</td>
									</tr>
									<tr class="brda">
										<td class="qTr">CITY</td>
											<td class="qTr">Character</td>
										<td class="qTr">Enter the City</td>
											<td class="qTr">Eg: Calgary</td>
									</tr>
								</table>
                 		</div>
					<!--/Table Fomat I ends here--> 
					<!--/Table Fomat II--> 
						<div class="qKhP">
							<h3>Optional Fields</h3>
								<table class="bdr wth">
									<tr class="header">
										<th class="qTr">Fields</th>
											<th class="qTr">Type</th>
										<th class="qTr">Description</th>
											<th class="qTr">Example</th>
									</tr>
									<tr class="brda">
										<td class="qTr">AD_TYPE</td>
											<td class="qTr">Character</td>
										<td class="qTr">Enter the AD type for the Classified</td>
											<td class="qTr">Eg:<br/>(i) buy<br/>(ii) sell<br/>(iii) rent<br/>(iv) rent_out</td>
									</tr>
									<tr class="brda">
										<td class="qTr">TAGS</td>
											<td class="qTr">Character</td>
										<td class="qTr">Enter the Tags for the Classified</td>
											<td class="qTr">Eg: Sports, Games</td>
									</tr>
									<tr class="brda">
										<td class="qTr">CLASSIFIED_PRICE</td>
											<td class="qTr">Number</td>
										<td class="qTr">Enter the Price of the Classified in {{globalsettings.currency}}</td>
											<td class="qTr">Eg:10</td>
									</tr>
									<tr class="brda">
										<td class="qTr">LISTING_TYPE</td>
											<td class="qTr">Character</td>
										<td class="qTr">Enter the Listing Type for the Classified</td>
											<td class="qTr">Eg:<br/>(i)FREE<br/>(ii)FEATURED<br/>(iii)SPONSORED</td>
									</tr>
									<tr class="brda">
										<td class="qTr">LISTING_PRICE</td>
											<td class="qTr">Number</td>
										<td class="qTr">Enter the LIsting price for the Classified in {{globalsettings.currency}}</td>
											<td class="qTr">Eg: 10 </td>
									</tr>
									<tr class="brda">
										<td class="qTr">LISTING_START_DATE</td>
											<td class="qTr">Date & Time</td>
										<td class="qTr">Enter the date and time when you want to start listing your article<br/>Format:<br/>YYYY-MM-DD HH-MM-SS</td>
											<td class="qTr">Eg: 2013-09-17 09-30-55</td>
									</tr>
									<tr class="brda">
										<td class="qTr">LISTING_END_DATE</td>
											<td class="qTr">Date & Time</td>
										<td class="qTr">Enter the date and time when you want to end listing your Classified<br/>Format:<br/>YYYY-MM-DD HH-MM-SS</td>
											<td class="qTr">Eg: 2013-09-25 09-15-48</td>
									</tr>
									<tr class="brda">
										<td class="qTr">LISTING_IS_PAID</td>
											<td class="qTr">Boolean</td>
										<td class="qTr">If this field is TRUE then the Listing Price for the classified has been paid</td>
											<td class="qTr">Eg:<br/>(i)TRUE<br/>(ii)FALSE</td>
									</tr>
									<tr class="brda">
										<td class="qTr">SEO_TITLE</td>
											<td class="qTr">Character<br/>Limit: 70 characters</td>
										<td class="qTr">Enter the Seo Title for the Classified </td>
											<td class="qTr">Eg: </td>
									</tr>
									<tr class="brda">
										<td class="qTr">SEO_DESCRIPTION</td>
											<td class="qTr">Character<br/>Limit: 160 characters</td>
										<td class="qTr">Enter the Seo Description for the Classified</td>
											<td class="qTr">Eg: </td>
									</tr>
									<tr class="brda">
										<td class="qTr">ADDRESS2</td>
											<td class="qTr">Character</td>
										<td class="qTr"></td>
											<td class="qTr">Eg:<br/>(i)TRUE<br/>(ii)FALSE</td>
									</tr>
									<tr class="brda">
										<td class="qTr">TELEPHONE</td>
											<td class="qTr">Number</td>
										<td class="qTr">Enter the Telephone number </td>
											<td class="qTr">Eg: 555-555-5555</td>
									</tr>
									<tr class="brda">
										<td class="qTr">MOBILENO</td>
											<td class="qTr">Character</td>
										<td class="qTr">Enter the Mobile number</td>
											<td class="qTr">Eg: 555-555-5555</td>
									</tr>
									<tr class="brda">
										<td class="qTr">EMAIL</td>
											<td class="qTr">Email</td>
										<td class="qTr">Enter the Email address</td>
											<td class="qTr">Eg: example@classified.com</td>
									</tr>
									<tr class="brda">
										<td class="qTr">WEBSITE</td>
											<td class="qTr">URL</td>
										<td class="qTr">Enter the Website URL </td>
											<td class="qTr">Eg: www.classifiedwebsite.com</td>
									</tr>
									<tr class="brda">
										<td class="qTr">LATITUDE</td>
											<td class="qTr">Number/Decimal</td>
										<td class="qTr">Enter the Latitude</td>
											<td class="qTr">Eg: 30°S</td>
									</tr>
									<tr class="brda">
										<td class="qTr">LONGITUDE</td>
											<td class="qTr">Number/Decimal</td>
										<td class="qTr">Enter the Longitude</td>
											<td class="qTr">Eg: 30°E</td>
									</tr>
									<tr class="brda">
										<td class="qTr">ZOOM</td>
											<td class="qTr">Character</td>
										<td class="qTr">Enter the MapZoom</td>
											<td class="qTr">Eg: Zoom Range: 0 - 19</td>
									</tr>
								</table>
            	     	</div>
					 <!--/Table Fomat II ends here--> 
					</div>
                    </div>																	                                        
                </div> <!-- end table -->                                    
            </div><!-- end page wrap -->
        </div>  <!-- end main-col -->                            
        <div id="aside" class="side-bar">
		<div class="section">
			<a class="quick_help" href="https://docs.google.com/a/doublespring.com/document/d/1qSud3JD7RY5ybuy5vj2Es2lSQmb2Iuwcu8SpHlb5b1Y/edit#bookmark=id.nji05fyabyx2" target="_blank"><span class="icon">?</span>Quick help</a><hr>
		</div>
		{# include 'classifieds/staff/csv_import_classifieds_faq.html' #}
		</div>        
	</div>                            
</div>
{% endblock %}			
{% block footer_include %}
<script type="text/javascript" src="{{ STATIC_URL }}js/jquery/jquery.validate.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){
	$("#mform").validate({
		ignore: "",
		highlight: function(element, errorClass){add_error_class(element)},
		unhighlight: function(element, errorClass){remove_error_class(element)},
		errorPlacement: function(error, element){},
	   	rules:{
	    	classifiedcsv: "required",
	   	}
	});
});
function validate(){
	if($('#classifiedcsv').val().toLowerCase().lastIndexOf(".csv")==-1) 
	 {
		alert("Please upload only .csv extention file");
		$('#classifiedcsv').focus(); 
		return false;
	}
	else{
		return true;
	}
}
</script>
{% endblock %}	
				
